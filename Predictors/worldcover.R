#------------------------------------------------------------------------------------------------------------------------------------
## Masterarbeit 
##
## - Predictor Sentinel -
##
## by Alina Kr√§mer 
#------------------------------------------------------------------------------------------------------------------------------------
# a) Processing and Merge
# b) Resample
#------------------------------------------------------------------------------------------------------------------------------------

#------------------------------------------------------------------------------------------------------------------------------------
# a) Processing and Merge
#------------------------------------------------------------------------------------------------------------------------------------

rm(list=ls()) 
library(raster)

setwd("/scratch/tmp/a_krae08/worldcover")

files=list.files(pattern = ".tif")
rl <- lapply(files, stack)
wc <- do.call(merge, c(rl, tolerance=30))

#------------------------------------------------------------------------------------------------------------------------------------
# b) Crop and Resample channels to same geometry (target: 10m)
#------------------------------------------------------------------------------------------------------------------------------------

wc = stack("worldcover/wc.tif")
srtm = raster("/home/a/a_krae08/srtm10.tif")

wc_crop = raster::crop(wc, srtm)

wcres = resample(wc_crop,srtm,"ngb")

writeRaster(wcres,"wc10.tif", overwrite=T)



